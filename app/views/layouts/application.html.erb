<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title><%= [t('app_name'), @title].compact.join(' | ') %></title>
  <meta name="viewport" content="width=device-width" />
  <!--[if lt IE 9]>
  <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <%= stylesheet_link_tag 'application', media: 'screen' %>
  <%= stylesheet_link_tag 'print', media: 'print' if @can_print %>
  <%= javascript_include_tag 'application' %>
  <%= favicon_link_tag %>
  <%= csrf_meta_tag %>
  <%= javascript_tag do %>
    <%= "Messages.ajaxInProgressWarning = '#{t('messages.ajax_in_progress_warning')}';" %>
    <%= yield :js_extra %>
  <% end %>
  <%= yield :head_extra %>
</head>
<body id="<%= "ph_#{controller_name}" %>" data-action="<%= action_name %>">
  <div id="loading_caption" style="display: none;">
    <%= t('messages.loading') %>
  </div>
  
  <% if current_user %>
    <div id="main_menu"><%= render 'shared/menu' %></div>
  <% elsif current_customer %>
    <div id="main_menu"><%= render 'shared/customer_menu' %></div>
  <% end %>
  
  <div id="main_container" class="hide_when_show_mobile_menu">
    <%= yield %><div style="clear: both;"></div>
  </div>
  
  <%= render 'shared/notice' if flash.notice %>
  <%= render 'shared/alert' if flash.alert %>
</body>
</html>