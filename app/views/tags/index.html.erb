<% if @parent_tag %>
  <nav class="path">
    <ul>
      <%= show_tag_path(@parent_tag) %>
    </ul>
  </nav>
<% end %>

<table class="table">
  <thead>
    <tr>
      <th><%= Tag.human_attribute_name :name %></th>
      <th colspan="<%= current_user.admin? ? 3 : 1 %>"></th>
    </tr>
  </thead>

  <tbody>
    <% @tags.each do |tag| %>
      <% classes = [cycle('even', 'odd'), tag.private ? 'private' : 'public'] %>
      <tr class="<%= classes.join(' ') %>">
        <td><%= link_to tag.name, tags_path(parent: tag) %> (<%= show_link_to_tag_documents(tag) %>)</td>
        <td><%= link_to_show tag %></td>
        <% if current_user.admin? %>
          <td><%= link_to_edit edit_tag_path(tag) %></td>
          <td><%= link_to_destroy tag %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<nav class="links">
  <%= pagination_links(@tags) %>
  <%= link_to t('label.new'), new_tag_path(parent: params[:parent]) if current_user.admin? %>
</nav>